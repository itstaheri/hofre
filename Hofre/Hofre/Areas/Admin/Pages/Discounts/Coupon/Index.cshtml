@page
@model Hofre.Areas.Admin.Pages.Discounts.Coupon.IndexModel
@using Frameworks;

<div class="content-body">
    <!-- Page Headings Start -->
    <div class="row justify-content-between align-items-center mb-10">


        <!-- Page Heading Start -->
        <div class="col-12 col-lg-auto mb-20">
            <div class="page-heading">
                <h3 class="title">کوپن های تخفیف</h3>
            </div>

        </div><!-- Page Heading End -->
        <a class="button button-success" asp-page="./Create">ایجاد تخفیف</a>
    </div><!-- Page Headings End -->

    <div class="row">
        <!--Modal Edit-->
        <div class="modal fade" id="exampleModal5">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">پیام جدید</h5>
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <form method="post">
                            <div class="form-group">
                                <label for="recipient-name" class="col-form-label">مناسبت</label>
                                <input type="text" class="form-control" name="Title" id="recipient-name">
                                <label for="recipient-name" class="col-form-label">درصد تخفیف</label>
                                <input type="text" class="form-control" name="DiscountRate" id="recipient-name">
                                <label for="recipient-name" class="col-form-label">تاریخ شروع</label>
                                <input type="text" class="form-control" name="startDate" id="recipient-name">
                                <label for="recipient-name" class="col-form-label">تاریخ پایان</label>
                                <input type="text" class="form-control" name="EndDate" id="recipient-name">
                            </div>

                           
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button class="button button-danger" data-dismiss="modal">بستن</button>
                        <button class="button button-primary">ذخیره تغییرات</button>
                    </div>
                </div>
            </div>
        </div>


        <!--Basic Start-->
        <div class="col-12 mb-30">

            <div class="box">
                <div class="box-head">
                    <h3 class="title">لیست</h3>
                </div>
                <div class="box-body">

                    <table class="table footable" data-paging="true" data-filtering="true" data-sorting="true" data-breakpoints='{ "xs": 480, "sm": 768, "md": 992, "lg": 1200, "xl": 1400 }'>

                        <thead>
                            <tr>
                                <th data-name="مناسبت">مناسبت</th>
                                <th data-name="کوپن">کوپن</th>
                                <th data-name="تاریخ شروع">تاریخ شروع</th>
                                <th data-name="تاریخ پایان">تاریخ پایان</th>
                                <th data-name="درصد تخفیف">درصد تخفیف</th>
                                <th data-name="وضعیت">وضعیت</th>
                                <th>عملیات</th>
                                <th></th>

                            </tr>
                        </thead>

                        <tbody>


                            @foreach (var item in Model.Coupons)
                            {
                                <tr>

                                    <td>@item.Title</td>
                                    <td>@item.Coupon</td>
                                    <td>@item.StartDate.ToFarsi()</td>
                                    <td>@item.EndtDate.ToFarsi()</td>
                                    @if (!item.IsActive)
                                    {
                                        <td>به اتمام رسیده</td>
                                    }
                                    else
                                    {
                                        <td>فعال</td>

                                    }

                                    <td width="70">
@*                                        <a  asp-page="./edit"  asp-route-id="@item.Id" class="button button-primary" data-toggle="modal" data-target="#exampleModal5" data-whatever="mdo">ویرایش</a>
*@                                        <a  asp-page="./edit"  asp-route-id="@item.Id" class="button button-primary">ویرایش</a>

                                    </td>
                                    <td width="70">
                                        <form method="post" asp-page-handler="Remove">
                                            <input type="hidden" name="Id" value="@item.Id" />
                                            <button class="button button-danger">حذف</button>
                                        </form>
                                    </td>
                                </tr>
                            }

                        </tbody>
                    </table>

                </div>
            </div>
        </div>

    </div>

</div><!-- Content Body End -->
@section Scripts{
<!-- Global Vendor, plugins & Activation JS -->
<script src="~/assets/js/vendor/modernizr-3.6.0.min.js"></script>
<script src="~/assets/js/vendor/jquery-3.3.1.min.js"></script>
<script src="~/assets/js/vendor/popper.min.js"></script>
<script src="~/assets/js/vendor/bootstrap.min.js"></script>
<!--Plugins JS-->
<script src="~/assets/js/plugins/perfect-scrollbar.min.js"></script>
<script src="~/assets/js/plugins/tippy4.min.js.js"></script>
<!--Main JS-->
<script src="assets/js/main.js"></script>

<!-- Plugins & Activation JS For Only This Page -->
<script src="~/assets/js/plugins/moment/moment.min.js"></script>
<script src="~/assets/js/plugins/footable/footable.min.js"></script>
<script src="~/assets/js/plugins/footable/footable.active.js"></script>
}